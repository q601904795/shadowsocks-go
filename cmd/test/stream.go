package main

import (
	"fmt"
	ss "github.com/qunxyz/shadowsocks-go/shadowsocks"
)

func main() {
	src := []byte{84,116,197,20,155,20,115,146,3,192,25,117,63,187,174,254,126,143,117,108,41,78,16,6,126,132,102,230,112,219,169,191,188,18,69,225,208,35,8,200,85,78,89,196,213,115,156,44,191,165,55,117,63,45,108,23,45,80,40,225,13,146,105,158,255,52,94,120,57,255,229,186,79,28,33,142,120,149,190,225,33,185,90,185,29,150,205,47,110,169,73,126,7,219,179,93,218,0,127,233,86,62,149,105,146,107,57,199,246,5,46,79,151,158,19,114,206,158,20,39,248,57,109,105,71,95,26,25,226,156,127,98,161,38,132,145,122,249,47,219,153,199,176,84,197,220,144,154,110,143,178,52,72,167,1,18,99,236,36,245,102,96,82,44,188,169,121,146,198,114,217,224,19,216,36,154,213,63,57,74,248,91,172,57,24,89,67,3,110,9,240,179,0,180,202,253,159,94,49,174,87,114,164,43,162,53,4,97,195,210,26,140,156,105,209,35,151,62,88,182,144,190,109,235,17,247,9,51,48,112,149,72,138,144,103,129,62,87,210,101,195,94,198,35,47,208,175,156,74,225,219,30,213,104,135,255,206,241,80,120,166,72,1,30,226,227,195,77,98,231,25,245,71,100,169,139,66,41,98,231,62,89,6,134,52,212,150,220,105,148,31,38,127,210,117,152,219,30,176,76,132,187,149,99,86,121,7,214,46,19,108,115,255,204,35,84,181,218,38,91,192,160,161,90,179,120,126,57,244,205,152,202,218,112,91,25,96,135,78,215,83,90,183,122,251,45,53,112,55,56,88,76,146,184,33,51,39,227,218,10,173,241,229,92,170,24,200,124,96,141,89,126,205,171,132,193,72,108,188,56,2,5,146,146,205,26,64,175,173,246,96,252,154,158,211,225,161,83,202,217,221,225,60,241,77,45,33,177,212,83,46,173,56,152,151,243,113,107,212,96,57,9,130,250,221,99,236,24,31,6,60,188,178,82,180,202,36,96,60,102,129,163,2,58,82,101,57,29,79,86,32,169,219,69,136,224,185,39,150,62,222,88,37,142,228,237,237,203,97,230,189,205,22,242,202,51,29,16,9,28,82,31,105,34,51,191,184,131,193,234,105,65,131,7,227,160,55,58,66,227,193,242,240,209,4,60,125,3,9,96,73,176,134,251,137,233,215,55,128,192,87,173,70,122,153,100,177,242,225,79,153,118,224,207,17,96,235,201,84,212,9,229,202,73,24,122,116,97,3,191,186,68,140,202,99,219,251,114,103,106,99,33,64,4,150,65,222,156,167,27,158,187,35,216,130,157,229,26,254,200,69,86,242,230,17,10,120,189,202,181,108,122,225,3,195,209,73,219,155,149,214,137,148,100,19,47,253,118,180,242,246,97,129,141,128,177,106,8,114,129,119,156,41,201,3,249,152,224,116,146,247,156,160,126}

	c, err := ss.NewCipher("chacha20-ietf", "123456")
	if err != nil {
		fmt.Print(err)
	}
	iv := []byte{242,19,241,218,154,125,15,101,205,12,102,95}

	if err = c.Init(iv, ss.Decrypt); err != nil { fmt.Println(err) }
	dst := make([]byte, len(src))
	if err = c.Decrypt(dst, src); err != nil { fmt.Println(err) }
	fmt.Printf("%s\n", dst)

}
